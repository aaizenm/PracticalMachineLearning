## Backgrownd

For this assignment, I build a predictive model to determine whether a particular form of exercise (barbell lifting) 
is performed correctly, using accelerometer data.

## Loading of the packages
The first part is the declaration of the package which will be used. 

Note : to be reproductible, I also set the seed value.

```{r}
library(caret)
library(randomForest)
library(Hmisc)

set.seed(1234)
```
## Reading of the Data

We begin by reading in the training and testing datasets, 
assigning missing values to entries that are currently 'NA' or blank.
(commands are commented to limit the output size. You can run it deleting the "#" ) 

```{r}
#getwd()
setwd("C:/PredictiveAnalysis/R")

train <- read.csv("./data/pml-training.csv", header = TRUE, na.strings = c("NA", ""))
test <- read.csv("./data/pml-testing.csv", header = TRUE, na.strings = c("NA", ""))

```
#dim(test)
#names(train)

dim(train)

We see that the training set consists of 19622 observations of 160 variables
```{r}
sum(complete.cases(train))
#head(train)
```

The discussion here is choosing between:
Or discarding most of the observations but using more predictors 
Or discarding some predictors to keep most of the observations.
The conclusion is that more observations is better, while additional variables may or may not helping us.

```{r}
Columns in the orignal training and testing datasets that are mostly filled with missing values are removed. 

# colSums(is.na(train))   ## This will give us which columns have 0 values
# colSums(is.na(train))==0  ## will give us a set of FALSE and TRUE values 

newtrain<- train[,colSums(is.na(train))==0]
newtest<- test[,colSums(is.na(test))==0]
dim(newtrain)
```

As we see we have eliminated 2/3 of the columns. 60 columns.

#head(newtrain)

Some of the variables in this new data set do not come from accelerometer measurements and record experimental
setup or participants' data.

So the following variables will be take out as well: 
X, user_name, raw_timestamp_part_1, raw_timestamp_part_2, cvtd_timestamp, new_window and num_window.

```{r}
todelete_cols <- grepl("X|user_name|new_window|num_window|raw_timestamp_part_1|raw_timestamp_part_2|cvtd_timestamp", colnames(newtrain))
finaltrain <- newtrai[, !todelete_cols]
finaltrain <- newtrain[, !todelete_cols]
#names(finaltrain)

Now we have 53 columns to work with.
```
dim(finaltrain)












